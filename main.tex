\documentclass[sigconf]{acmart}

% test 
\usepackage{mathrsfs}
\usepackage{bm}
% new commands and shortcuts
\def\td{{\bf todo}}
\def\bs{\textit{\textbf{s}}}
\def\Lb{\textit{\textbf{L}}}
\def\Xb{\textit{\textbf{X}}}
\def\Lambdab{\bm{\Lambda}}
\def\Thetab{\bm{\Theta}}
\def\thetab{\bm{\vartheta}}
\def\xb{\textit{\textbf{x}}}
\def\fb{\textit{\textbf{f}}}
\def\ab{\textit{\textbf{a}}}
\def\ajb{\overline{a_j}}
\def\bjb{\overline{b_{j,l}}}
\def\pjb{\overline{P_{j}}}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\htt}{ht}
\def\C{\mathbb{C}}
\def\vt{\vartheta}
\def\Q{\mathbb{Q}}
\def\ZZ{\mathbb{Z}}
\def\R{\mathbb{R}}
\def\rs{\mathscr{R}}
\def\P{\mathscr{P}}
\def\d{\delta}
\def\sing{ \textrm{sing}}
\def\codim{ \textrm{codim}}
\def\jac{ \textrm{jac}}
\def\exp{\textrm{exp}}
\def\grad{\textrm{grad}}
\def\rank{\textrm{rank}}
\def\reg{\textrm{reg}}
\def\jt{\widetilde{J}}
\def\At{\widetilde{A}}
\def\Yt{\widetilde{Y}}
\def\dt{s}
%% \def\dt{\widetilde{d}}
\def\Dt{\widetilde{D}}
\def\rk{\textrm{rank }}
\def\pa{\partial}
\def\D{\Delta}
\def\Z{\frak{Z}}
\def\I{\frak{I}}
\def\Is{\frak{I}^{\star}}
\def\A{\frak{A}}
\def\fp{\frak{P}}
\def\sp{\mathscr{P}}
\def\la{\langle}
\def\ra{\rangle}
% matrices 
\def\scrQ{\ensuremath{\mathscr{Q}}}
\def\bbm{\begin{bmatrix}}
\def\ebm{\end{bmatrix}}
%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
\setcopyright{acmcopyright}
\copyrightyear{2020}
\acmYear{2020}
\acmDOI{10.1145/1122445.1122456}

%% These commands are for a PROCEEDINGS abstract or paper.
%\acmConference[ Kalamata, Messinia, Greece '20]{ Kalamata, Messinia, Greece '20: ACM International Symposium on Symbolic and Algebraic Computation}{July 20--23, 2020}{ Kalamata, Messinia, Greece}
\acmBooktitle{ Kalamata, Messinia, Greece '20: ACM International Symposium on Symbolic and Algebraic Computation,  July 20--23, 2020,  Kalamata, Messinia, Greece}
\acmPrice{15.00}
\acmISBN{978-1-4503-XXXX-X/18/06}

\usepackage[ruled,vlined]{algorithm2e}
\usepackage{chngcntr}
\usepackage{titlesec}

\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
%\title{Bit Complexity for Computation of one Point in each Connected
%Component of a Smooth Real Hypersurface}
\title{On the Bit Complexity of Finding Points in Connected Components of a Smooth Real Hypersurface}

%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.
\author{Jesse Elliott}
\affiliation{%
  \institution{Cheriton School of Computer Science}
  \city{University of Waterloo}
}
\email{jakellio@uwaterloo.ca}

\author{Mark Giesbrecht}
\affiliation{%
  \institution{Cheriton School of Computer Science}
  \city{University of Waterloo}
}
\email{mwg@uwaterloo.ca}

\author{\'Eric Schost}
\affiliation{%
  \institution{Cheriton School of Computer Science}
  \city{University of Waterloo}
}
\email{eschost@uwaterloo.ca}
%%
%% By default, the full list of authors will be used in the page
%% headers. Often, this list is too long, and will overlap
%% other information printed in the page headers. This command allows
%% the author to define a more concise list
%% of authors' names for this purpose.
\renewcommand{\shortauthors}{Elliott, Giesbrecht, and Schost.}

\begin{abstract}
  We present a full analysis of the bit complexity of an efficient
  algorithm for the computation of at least one point in each
  connected component of a smooth real hypersurface. This is a basic
  and important operation in semi-algebraic geometry: it gives an
  upper bound on the number of connected components of a real
  hypersurface, and is also used in many higher level algorithms.
  
  Our starting point is an algorithm by Safey El Din and Schost ({\em
    Polar varieties and computation of one point in each connected
    component of a smooth real algebraic set}, ISSAC'03). This
  algorithm uses random changes of variables, that are proved to
  generically ensure certain desirable geometric properties. The
  complexity of the algorithm was given in an algebraic complexity
  model; the analysis of the bit complexity and the error probability
  were left for future work.

  Our paper answer these questions. Our main contribution is a
  quantitative analysis of several genericity statements, such as
  Thom's weak transversality theorem or Noether normalization
  properties for polar varieties.
\end{abstract}

\begin{CCSXML}
<ccs2012>
 <concept>
  <concept_id>10010520.10010553.10010562</concept_id>
  <concept_desc>Computer systems organization~Embedded systems</concept_desc>
  <concept_significance>500</concept_significance>
 </concept>
 <concept>
  <concept_id>10010520.10010575.10010755</concept_id>
  <concept_desc>Computer systems organization~Redundancy</concept_desc>
  <concept_significance>300</concept_significance>
 </concept>
 <concept>
  <concept_id>10010520.10010553.10010554</concept_id>
  <concept_desc>Computer systems organization~Robotics</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
 <concept>
  <concept_id>10003033.10003083.10003095</concept_id>
  <concept_desc>Networks~Network reliability</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
</ccs2012>
\end{CCSXML}


\setcounter{secnumdepth}{4}
\renewcommand{\theparagraph}{\thesubsection.\arabic{paragraph}}
\counterwithin{paragraph}{subsection} % makes paragraph depend on subsection
\titleformat{\paragraph}[runin]{\normalfont\normalsize\bfseries}{\theparagraph.}{1em}{}
\titlespacing*{\paragraph}{0em}{1ex}{1em}
\newcommand{\pref}[1]{{\bf\ref{#1}}}

\keywords{Real algebraic geometry, transversality, Noether
  normalization, bit complexity}

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

\paragraph*{Background and problem statement.}
Computing one point in each connected component of a real algebraic
set $S$ is a basic subroutine in real alebraic and semi-algebraic
geometry; it is also useful in its own right, since it allows one to
decide if $S$ is empty or not. In this paper, we consider only the
case where $S$ is given as $S=V \cap \R^n$, where $V=V(f) \subset
\C^n$ is a complex hypersurface defined by a squarefree polynomial $f
\in \ZZ[X_1,\dots,X_n]$.

Algorithms for this task have been known for decades, and their
complexity is to some extent well understood. Suppose that $f$ has
degree $d$, and coefficients of bit-size $h$. Without making any
assumption on $f$, the algorithm given
in~\cite[Section~13.1]{BaPoRo03} solves our problem using $d^{O(n)}$
operations in $\Q$; in addition, the output of the algorithm is
represented by polynomials of degree $d^{O(n)}$, with coefficients of
bit-size $hd^{O(n)}$.  The key idea behind this algorithm goes back
to~\cite{GrVo88}: sample points are found through the computation of
critical points of well-chosen functions on $V(f)$.

The number of connected components of $V(f)$ admits the lower bound
$d^{\Omega(n)}$, so up to polynomial factors, this result is
optimal. However, due to the generality of the algorithm, the constant
hidden in the exponent $O(n)$ in its runtime turns out to be rather
large: the algorithm relies on infinitesimal deformations, that affect
runtime non-trivially.

In this paper, we will work under the additional assumption that
$V=V(f)$ is a {\em smooth} complex hypersurface. We place ourselves in
the continuation of the line of work initiated by~\cite{BaGiHeMb97}:
that reference deals with cases where $V$ is smooth and $V \cap \R^n$
is compact, pointing out how {\em polar varieties} (that were
introduced in the 1930's in order to define characteristic
classes~\cite{Piene78,Teissier88}) can play a role in effective real
geometry. This paper was extended in several directions: to $V$ being
a smooth complete intersection, still with $V\cap \R^n$
compact~\cite{BaGiHeMb01}, then without the compactness
assumption~\cite{EMP,BaGiHePa05}; the smoothness assumption was then partly
dropped in~\cite{BaGiHe14,BaGiHeLePa12}.

The starting point in our paper is the algorithm in~\cite{EMP}. In the
hypersurface case, its runtime is $d^{(4+o(1))n}$ operations in $\Q$;
as with many results in this line of work, the algorithm is
randomized: the algorithm needs to assume that we are in generic
coordinates; this is done by applying a random change of coordinates
prior to all computations. In addition, it relies on algorithms for
solving systems of polynomial equations that are themselves
randomized.  Altogether, this procedure chooses $n^{O(1)}$ random
vectors, each of them in an affine space of dimension $n^{O(1)}$;
every time a choice is made, failure corresponds to our chosen vector
lying in a hypersurface of the parameter space.

This paper revisits the algorithm in~\cite{EMP} (in the hypersurface
case) and gives a complete analysis of its probality of success and
its bit complexity. 


\paragraph*{Data structures.} As in references such
as~\cite{GiHeMoPa95,GiHaHeMoMoPa97,GiHeMoMoPa98,BaGiHeMb97,EMP}, the
input polynomial $f$ is given by means of a {\em straight-line
  program}, that is, a sequence of operations $+,-,\times$ that
evaluates $f$, on the input variables $X_1,\dots,X_n$; the {\em
  length} of a straight-line program of such an objet is simply the
number of operations it performs. Any polynomial of degree $d$ in $n$
variables can be computed by a straight-line program of length $O\big
({{d+n} \choose n}\big)$ (evaluate all monomials of degree up to $d$
in $n$ variables, multiply them by their respective coefficients and
sum the result). However, some inputs may be given by shorter
straight-line program, and the algorithm is able to benefit from it.

The output of the algorithm is a finite set in $\C^n$ defined over
$\Q$. To represent it, we rely on a widely used data structure based
on univariate
polynomials~\cite{Kronecker82,Macaulay16,GiMo89,GiHeMoPa95,ABRW,GiHaHeMoMoPa97,GiHeMoMoPa98,Rouillier99}.
Consider a zero-dimensional algebraic set $S \subset \C^n$ defined
over $\Q$. A {\em zero-dimensional parametrization}
$\scrQ=((q,v_1,\dots,v_n),\lambda)$ of $S$ consists in polynomials
$(q,v_1,\dots,v_n)$, such that $q\in \Q[T]$ is monic and squarefree,
all $v_i$'s are in $\Q[T]$ and satisfy $\deg(v_i) < \deg(q)$, and in a
$\Q$-linear form $\lambda$ in variables $X_1,\dots,X_n$, such that
\begin{itemize}
\item $\lambda(v_1,\dots,v_N)=T q' \bmod q$, where $q'=\frac{\partial
  q}{\partial T}$;
\item we have the equality
  $S=\left \{\left(
      \frac{v_1(\tau)}{q'(\tau)},\dots,\frac{v_N(\tau)}{q'(\tau)}\right
    ) \ \mid \ q(\tau)=0 \right \}.$
\end{itemize}
The constraint on $\lambda$ says that the roots of $q$ are the values
taken by $\lambda$ on $S$. The parametrization of the coordinates by
rational functions having $q'$ as a denominator goes back
to~\cite{Kronecker82,Macaulay16}: as pointed out in~\cite{ABRW}, it
allows one to control precisely the size of the coefficients of
$v_1,\dots,v_n$.

\paragraph*{Main result.} To state our main result, we need to define 
the {\em height} of rationals, and polynomials with rational
coefficients.

The {\em height} of a non-zero rational $a=u/v$ is the maximum of
$\ln(|u|)$ and $\ln(|v|),$ where $u \in \mathbb{Z}$ and $v \in
\mathbb{N}$ are coprime. For a polynomial $f$ with rational
coefficients, if $v \in \mathbb N$ is the minimal common denominator
of all non-zero coefficients of $f$, then the \textit{height}
$\htt(f)$ of $f$ is defined as the maximum of the logarithms of $v$
and of the absolute values of the coefficients of $vf$.


\begin{theorem}
  Suppose that $f\in\ZZ[X_1\hdots,X_n]$ is squarefree, of degree
  at most $d$ and height at most $s$; assume that $f$ is given by a
  straight-line program $\Gamma$ of size $L$ with integer constants of
  height at most $b.$ There exists a randomized algorithm that takes
  $\Gamma, d,$ and $s$ as input and produces a zero-dimensional
  parameterization of a set that contains at least one point in each
  connected component of $V(f) \cap \R^n$ with probability at least
  $\hdots$. Otherwise the algorithm either produces a subset of the
  critical points or FAIL. In any case, the algorithm uses
  \[
  \hdots  
  \]
  boolean operations.
\end{theorem}

The algorithm is Monte Carlo and can error on one side by producing a
proper subset of the points. Running the algorithm $k$ times gives a
list of outputs among which the highest cardinality set includes at
least one point in each connected component with probability at least
$\hdots.$



%% Let $f \in \mathbb{Q}[X_1,\hdots,X_n]$ be squarefree with total degree
%% $d$, and such that $V(f)$ smooth. We provide bit-complexity estimates
%% for computing one point in each connected component of $V(f)\cap
%% \R^n.$ Its boolean complexity is $\hdots$.


\subsubsection{Bit-complexity}

Algorithms for deciding connectivity queries in real algebraic
geometry have been developed in a series of papers
\cite{a,b,c,d}. However, these algorithms are based in the arithmetic
complexity model, and bit complexity questions have been left for
future work. As bit complexity provides a far more realistic model of
computation compared to arithmetic complexity, which only counts each
operation at unit cost, our results therefore begin to fill an
important missing gap in the research.



%
%
%

An \textit{algebraic set} $V \subset \C^n$ is the set of common zeros of a set of polynomials $\textit{\textbf{f}}=(f_1,\hdots,f_s)$ in $\C[X_1,\hdots,X_n].$

The \textit{dimension} of an algebraic set $V \subset \C^n$, denoted $\dim V,$ can be defined in the following ways:
%
\begin{enumerate}
    \item The number of generic hyperplanes needed to intersect with $V$ to obtain a finite set. 
    \item The Krull Dimension of $\C[X_1,\hdots,X_n]/I(V)$.
\end{enumerate}
%
The \textit{codimension} of $V$ is $n - \dim V$. An algebraic set is \textit{equidimensional} if each irreducible component has the same dimension.  If each component has dimension $d$ then we say it is $d-$equidimensional. 
The \textit{degree} of an algebraic set is the number of intersection points between itself and $\dim V$ generic hyperplanes.
%
\begin{example} 
An algebraic set of dimension zero is a finite set, with degree equal to its cardinality.
\end{example}
%
\begin{example}
An algebraic set of dimension 1 is a curve, with degree equal to the number of intersection points with a generic hyperplane.
\end{example}
%
%
%
\subsection{Critical / singular points}
%
\subsubsection{Regular and singular points of varieties}
%
Let $V \subset \C^n$ be a $d$-equidimensional algebraic set. 
The point $x \in V$ is a \textit{regular point} if $\dim (T_xV) = d.$ Otherwise $x$ is a \textit{singular point}. We let $\reg(V)$ and $\sing(V)$ respectively denote the regular and singular points of $V$. 
\par 
We assume that $V$ is smooth so that $V=\reg(V).$
%
\subsubsection{Critical points of polynomial mappings}
%
Let $\phi : V \rightarrow \C^m$ be a polynomial mapping. A \textit{critical point} of $\phi$ is a regular point of $V$ with $d_x \phi(T_xV) \not = \C^m,$ where $d_x \phi$ is the differential of $\phi$ at $x.$ A \textit{critical} value of $\phi$ is the image of a critical point by $\phi$.
%
\subsection{The zariski-tangent space}
%
Denote by $\grad_{\xb}(f)$ the evaluation of the gradient vector of $f$ in $\C[X_1,\hdots,X_n]$ at $\textit{\textbf{x}}$ in $\C$.
The \textit{Zariski-tangent space} to $V$ at $\textit{\textbf{x}} \in V$ is the vector space $T_{\xb}V$ defined by the equations $\grad_{\xb}(f) \cdot \textit{\textbf{v}}=0$ for all polynomials $f$ that vanish on $V$. For a polynomial system $\textit{\textbf{f}}=(f_1,\hdots,f_N)$ in $\C[X_1,\hdots,X_n]$, denote by $\jac(\textit{\textbf{f}})$ the Jacobian matrix.
The following is a direct consequence of \cite[Corollary 16.20]{ECA}.
%
\begin{proposition}
If $V \subset \C^n$ is a $d$-equidimensional algebraic set with ideal $I(V)=\langle f_1,\hdots,f_N \rangle$, then at any point $\textbf{x}$ of $\reg(V),$ $\jac_\textbf{x}(\textbf{f})$ has full rank $n - \dim(V)$ and the kernel of $\jac_\textbf{x}(\textbf{f})$ is equal to $T_\textbf{x}V.$ 
\end{proposition}
%
\subsection{Polar varieties}
%
Let $V\subset \C^n$ be a smooth $d$-equidimensional variety. For $i \in \{1,\hdots,d\},$ denote by $\pi_i:\C^n \rightarrow \C^i$ the projection
$(x_1,\hdots,x_n) \mapsto  (x_1,\hdots,x_i)$. A \textit{critical point} $\textit{\textbf{x}}$ in $V$ is a singular point on $\pi_i.$ In other words, the point $\textit{\textbf{x}} \in V$ is a critical point if $\dim \pi_i( T_\textit{\textbf{x}}V) < i$. The $i$-th  \textit{polar variety} \[W(\pi_i,V) := \{\textit{\textbf{x}} \in V~|~\dim \pi_i(T_xV) < i\}\] is the set of critical points of $\pi_i$ on $V$. Denote by $\I$ the ideal \[\frak{I}(\pi_i,V) := I(W(\pi_i,V)).\] 
%
\begin{proposition} 
Consider $f \in \mathbb{Q}[X_1,\hdots,X_n]$ squarefree with $V(f)$ smooth. Then, for $i \in \{1,\hdots,n\}$, the polar variety $W(\pi_i,V)$ is defined by the vanishing of \[f,\frac{\pa f}{\pa X_{i+1}},\hdots,\frac{\pa f}{\pa X_n}.\]
\end{proposition}
%
\begin{proof}
We have a proof but maybe we should reference it?
\end{proof}
%
\subsection{Changes of variables}
%
Consider $A \in \C^{n^2}, f \in \C[X_1,\hdots,X_n], \textit{\textbf{x}} \in \mathbb{C}^n,$ and $V \subset \C^n$. We denote by 
$V^A$ the set $\{x^A~|~\xb \in V\}, f^A$ the polynomial $f(A \xb)$ and $\xb^A$ denotes $A^{-1}\xb$. Notice $f^A(\xb^A) = f(A A^{-1}\xb)=f(\xb).$
%
%
%
%
\section{The Main Algorithm}
%
\begin{algorithm}
\KwIn{a strait line program $\Gamma$ that computes $f \in \Q[X_1,\hdots,X_n],$ and $D=\deg(f)$}
\KwOut{$n$ zero-dimensional parameterizations, whose reunion includes at least one point in each connected component of $V(f) \cap \R^n$}
\nl Choose $S \subset \mathbb{Q}$ and $A \in S^{n^2}$ with $|S|\geq $?\;
\nl Compute $f$ and apply the change of variables to obtain $f(A x)=f^A(x)$\;
\nl Use \cite{AD} to compute the partial derivatives $\frac{\pa f^A}{\pa X_{i+1}},\hdots,\frac{\pa f^A}{\pa X_n}$\;
    \caption{{Main Algorithm} \label{}}
\nl \For{$i\gets1$ \KwTo $n$}{
Apply the symbolic homotopy algorithm from \cite{SH} with input $\{X_1,\hdots,X_i,f^A,\frac{\pa f^A}{\pa X_{i+1}},\hdots,\frac{\pa f^A}{\pa X_n} \}$ and $D$ to obtain a zero dimensional parameterization of $W(\pi_i,V^A) \cap \pi_{i-1}^{-1}(0)$.;
} 
\nl \Return $\cup_{i=1}^n W(\pi_i,V^A) \cap \pi_{i-1}^{-1}(0)$;
\end{algorithm}
%
%
%
%
\section{Genericity properties}
%
Consider $f \in \mathbb{Q}[X_1,\hdots,X_n]$ squarefree with total degree $D$ and $V(f)$ smooth. We say that $V$ is in \textit{Noether position} for $\pi_D$ when the extension 
\[
\C[X_1,\hdots,X_D] \rightarrow \C[X_1,\hdots,X_n]/I(V)
\] 
is injective and integral.  Then, for any $\xb \in \C^D,$ the fiber 
$V \cap \pi_D^{-1}(\xb)$ has dimension zero. 
We say that $f$ satisfies $\textbf{H}$ if 
%
\begin{enumerate}
    \item $f$ is squarefree;
    \item $V(f)$ is smooth.
\end{enumerate}
%
For $i\in\{1,\hdots,n\}$, we say that $f$ satisfies $\textbf{H}_i^{'}$ if 
%
\begin{enumerate}
\item $\I(\pi_i,V)$ is radical;
\item either $W(\pi_i,V)$ is empty or $(i-1)$-equidimensional;
\item $W(\pi_i,V)$ is smooth;
\item $\langle X_1,\hdots,X_i, f,  \frac{\pa f}{\pa X_{i+1}},\hdots,\frac{\pa f}{\pa X_n}\rangle $ is radical; 
\item $V(X_1,\hdots,X_i, f,  \frac{\pa f}{\pa X_{i+1}},\hdots,\frac{\pa f}{\pa X_n})$ has dimension $0$;
\item $V(X_1,\hdots,X_i, f,  \frac{\pa f}{\pa X_{i+1}},\hdots,\frac{\pa f}{\pa X_n})$ is smooth;
\item either $W(\pi_i,V)$ is empty or in Noether position for $\pi_{i-1}$.
\end{enumerate}
%
\begin{theorem}
Suppose that $f$ satisfies \textbf{H}. Then there exists a Zariski closed set $\frak{X} \subset \mathbb{C}^{n^2}$ of degree at most $D^{\textrm{?}}$ such that, if $\textbf{A}$ is chosen from  $\C^{n^2}-\frak{X}$ then $f^A$ satisfies $\textbf{H}_i^{'}$ for all $i \in \{1,\hdots,n\}.$
\end{theorem}
%
\begin{corollary} 
Fix $S \subset \mathbb{Q}$ with $|S| \geq \epsilon^{-1} D^{\textrm{?}}$ and $\epsilon > 0$. Then for $A\in S^{n^2}$ chosen randomly, the probability that $f^A$ satisfies $H_i^{'}$ for all $i \in \{1,\hdots,n\}$ is at least $1-\epsilon.$
\end{corollary}
%
%
%
%
\section{Weak Transversality}

Sard's lemma states that the set of critical values of a smooth
function $\R^n \to \R^m$ has measure zero. One can give ``algebraic''
versions of it, for semi-algebraic mappings $\R^n \to \R^m$ as
in~\cite[Chapter~9]{bochnak1998real} or polynomial mappings $\C^n \to
\C^m$ as in~\cite[Chapter~3]{Mumford76}, for which the sets of critical
values are contained in strict semi-algebraic, resp.\ algebraic sets
in the codomain. Thom's weak transversality lemma, as given for
instance in~\cite{demazure2000bifurcations}, generalizes Sard's
lemma. In this section, we consider a particular case of this result
(transversality to a point), and establish a quantitative version of
it. Our presentation is inspired by that in~\cite{TWT}.

%% ; it states that if a smooth function
%% $F(\Xb,\Lambda)$, depending on parameters $\Lamdba$ in $\C^s$ is
%% ``transverse'' to a certain submanifold in its domain space, then for
%% most values $\lambda \in \C^s$, $F(\Xb,\lambda)$ remains

Transversality to a point can be rephrased entirely in terms of
critical and regular values. Recall that if $\bm \Psi$ is a mapping
from a smooth algebraic set $Y$ to $\C^t$, with $t\le \dim(Y)$, a {\em
  critical point} of $\bm \Psi$ is a point $\bm y \in Y$ such that the
image of the tangent space $T_{\bm y} Y$ by the differential $d_{\bm
  Y} \bm \Psi$ has dimension less than $t$. When for instance
$Y=\C^v$, we have $T_{\bm y} Y=\C^v$ and this condition is equivalent
to the Jacobian of $\bm \Psi$ having rank less than $t$ at $\bm y$.  A
{\em regular point} of $\bm \Psi$ is a point on $Y$ that is not
critical. {\em Critical values} are the images of critical points; the
complement of this set are the {\em regular values} (so a regular
value is not necessarily in the image of $\bm\Psi$).

Let $n,\dt,$ and $m$ be positive integers, with $m \le n$, and denote
by $\bm\Phi :\C^n \times \C^{\dt} ~ \rightarrow \C^{m}$ a mapping
defined by polynomials in $\C[\Xb,\Thetab]$, where $\Xb$,
resp.\ $\Thetab$, is a set of $n$, resp.\ $\dt$, indeterminates.  For
$\thetab$ in $\C^{\dt}$, let $\bm\Phi_{\thetab} : \C^n \rightarrow
\C^{m}$ be the induced mapping $\xb\mapsto \bm\Phi(\xb,\thetab)$.  The
transversality result we will need is the following.

\begin{proposition} [Weak transversality]\label{prop:weak_t}
  Suppose that $\bm 0$ is a regular value of $\bm\Phi$. Then there
  exists a hypersurface $\Delta \subset \C^{\dt}$ of degree at most
  \td for which, if $\thetab \in \C^{\dt}-\Delta$, then $\bm 0$ is a
  regular value of~$\bm\Phi_{\thetab}$.
\end{proposition}

Here is a simple example that shows this result at work. Consider a
squarefree $f$ in $\C[X_1,X_2]$, such that $V(f)$ is a smooth curve in
$\C^2$, and let the mapping $\bm\Phi:\C^2\times \C \to \C^2$ be defined
by $\bm\Phi(X_1,X_2,\Lambda) = (f(X_1,X_2), X_1-\Lambda)$. One checks
that the Jacobian of $\bm\Phi$ with respect to $(X_1,X_2,\Lambda)$ has
rank two at any point in $\bm\Phi^{-1}(\bm 0)$, so the assumptions of the
proposition apply. We deduce that for a generic $\lambda$ in $\C$,
that is, for all $\lambda$ in $\C$ except a finite number, the ideal
$(f(X_1,X_2), X_1-\lambda)$ is radical in $\C[X_1,X_2]$; equivalently,
$f(\lambda, X_2)$ is squarefree. We will revisit this example in
Section~\td.

The rest of the section is devoted to the proof of the proposition.
The proof of \cite[Theorem B.3]{TWT} already shows the existence of
$\Delta$; it is essentially the classical proof for smooth
mappings~\cite[Section~3.7]{demazure2000bifurcations}, written in an
algebraic context. In what follows, we revisit this proof,
establishing a bound on the degree of $\Delta$.

We will reuse the following fact proved in~\cite{TWT}.  Put $V =
\bm\Phi^{-1}(0)$ and consider the projection $\pi:(\xb, \thetab) \in
\C^n \times \C^{\dt} \mapsto \thetab \in\C^{\dt}$.  If $V$ is empty,
there is nothing to do, since all values $\thetab$ in $\C^\dt$ satisfy
the conclusion of the theorem. Thus, we assume that $V$ is not
empty. Then, the Jacobian criterion shows that $V$ is
smooth and $(n+ \dt -m)$-equidimensional.

Let $Z$ be the set of critical points of $\pi_{|V}$, and consider its
projection $\pi(Z)$ in $\C^s$. This is the set of critical values of
$\pi_{|V}$; hence, by the algebraic form of Sard's lemma (see
\cite[Theorem~3.7]{Mumford76} for irreducible $V$
and~\cite[Proposition~B.2]{TWT} for general $V$), its Zariski closure
$\overline{\pi(Z)}$ is a strict closed subset of $\C^s$. Now, the
proof of \cite[Theorem B.3]{TWT} shows that if $\thetab \in \C^{\dt}$
is not in $\overline{\pi(Z)}$, then $\bm 0$ is a critical value of
$\bm\Phi_{\thetab}$. Hence, it suffices to prove that $Z$ has degree
at most $d^{m+n}$; this will imply the same degree bound for
$\overline{\pi(Z)}$, and prove our propositon.


We first describe the set $Z$ of critical points of $\pi_{|V}$.  Let
$M$ denote the $(s+m) \times (s+n)$ matrix with entries in
$\C[\Xb,\Thetab]$ given by $M = \jac_{\Xb,\Thetab}(\pi,\bm\Phi)$, that
is,
\begin{align*}
M &= 
\bbm 
\jac_{\Xb,\Thetab}(\pi)\\
\jac_{\Xb,\Thetab}(\bm\Phi) 
\ebm 
=
\bbm 
\textbf{0}_{\dt \times n}\hspace{5mm}\textbf{I}_{\dt} \\
\jac_{(\Xb,\Thetab)}(\bm\Phi)
\ebm.
\end{align*}

\begin{lemma} 
  For $(\xb,\thetab)$ in $V$, the matrix $M$ has full rank $\dt+m$ at
  $(\xb,\thetab)$ if and only if $(\xb,\thetab)$ is a regular point of
  $\pi_{|V}.$
\end{lemma}
\begin{proof}
  Take $(\xb,\thetab)$ on $V$, and let $K(\xb,\thetab)$ be the
  Jacobian matrix $\jac_{(\Xb,\Thetab)}(\bm\Phi)$ at $(\xb,\thetab)$.
  Then, the rank of $M(\xb,\thetab)$ can be written as
  $\textup{rank}(K(\xb,\thetab)) + \textup{rank}([\textbf{0}_{\dt
      \times n}~\textbf{I}_{\dt}] \mid \ker K(\xb,\thetab))$, where
  the latter is the rank of the restriction of $[\textbf{0}_{\dt
      \times n}~\textbf{I}_{\dt}]$ to the nullspace of
  $K(\xb,\thetab)$.

  Since $V$ is smooth, $K(\xb,\thetab)$ has full rank ${\rm codim} (V)
  = m$. On the other hand, the nullspace of $K(\xb,\thetab)$ is the
  tangent space $T_{\xb,\thetab} V$, and
  $\textup{rank}([\textbf{0}_{\dt \times n}~\textbf{I}_{\dt}] \mid
  \ker K(\xb,\thetab))$ is the dimension of $\pi(T_{\xb,\thetab} V)$.
  In other words, the rank of $M(\xb,\thetab)$ is equal to
  $m+\dim(\pi(T_{\xb,\thetab} V))$; this implies the claim in the lemma.
\end{proof}


Therefore, we can characterize the set $Z$ of critical points of
$\pi_{|V}$ as those points satisfying $\bm\Phi(\xb,\thetab)=\bm 0$ and
where all minors of $M$ of order $\dt+m$ vanish. We can describe this
set using fewer equations, by discarding certain minors that are
identically zero. Let indeed $J$ denote the $m \times n$ submatrix of
the Jacobian of $\bm\Phi$ consisting of the first $n$ columns.
\begin{lemma} 
  For $(\xb,\thetab)$ in $V$, $(\xb,\thetab)$ is in $Z$ if and only if
  $J(\xb,\thetab)$ has rank less than $m$.
\end{lemma}
\begin{proof}
Notice 
%
\begin{align*}
M(\xb,\thetab)&= 
\bbm 
\textbf{0}_{\dt \times n} &\textbf{I}_{\dt} \\
J(\xb,\thetab)     &J'(\xb,\thetab)
\ebm,
\end{align*}
where $J'$ consists of the remaining columns of the Jacobian matrix of
$\bm\Phi$.  Then, the rank of the former matrix is equal to the rank
of
\begin{align*}
M(\xb,\thetab)&= 
\bbm 
\textbf{0}_{\dt \times n} &\textbf{I}_{\dt} \\
J(\xb,\thetab)     & \bm 0_{m \times s}
\ebm,
\end{align*}
and the conclusion follows.
\end{proof}
Therefore, the set $Z$ can be defined as the set of all
$(\xb,\thetab)$ in $\C^{n+\dt}$ satisfying $\bm\Phi(\xb,\thetab)=\bm
0$ and where all minors of $J$ of order $m$ vanish. Our next step is
to bound the degree of $Z$. For this, rather than considering minors
of $J$, we will rewrite the condition that $J(\xb,\thetab)$ has rank
less than $m$ as the existence of a non-trivial left kernel element.

For this, we let $\textit{\textbf{L}}=[L_1,\hdots,L_m]$ be new
variables, thought of as Lagrange multipliers, and consider the
``Lagrange polynomials'' $\mathscr{L}_1,\dots,\mathscr{L}_{n}$, with
\[
[\mathscr{L}_1 \cdots \mathscr{L}_{n}]=\textit{\textbf{L}}\cdot J(\xb,\thetab).
\] 
Denote by $\frak{Z} \subset \C^{n+\dt+m}$ the algebraic set defined by
the vanishing of $\mathscr{L}_1,\hdots,\mathscr{L}_{n},$ and
$\bm\Psi$, and by $\frak{Z}'$ the algebraic set
\[
\frak{Z}' := \overline{\frak{Z} - \{(\textit{\textbf{x}},\thetab,0,\hdots,0) \in \C^{n+\dt+m}~|~(\textit{\textbf{x}},\thetab,0\hdots,0) \in \frak{Z}\}},
\]
where the bar denotes Zariski closure (we have to remove such points,
since $L_1=\cdots=L_m=0$ is always a trivial solution to the Lagrange
equations). Finally, consider the projection
\begin{align*} 
\mu :~ \C^{n+\dt+m} &\rightarrow \C^{n+\dt}\\
(\textit{\textbf{x}},\thetab,\bm \ell)~ &\mapsto (\textit{\textbf{x}},\thetab).
\end{align*}

\begin{lemma}  
  The algebraic set $Z$ is equal to the projection $\mu(\frak{Z}')$.
\end{lemma}
\begin{proof}
  Take $(\xb,\thetab)$ in $Z$. Then, $(\xb,\thetab)$ cancels all
  polynomials $\bm \Phi$, and there exists $\bm
  \ell=(\ell_1,\dots,\ell_m)$, not identically zero, such that
  $(\xb,\thetab,\bm \ell)$ cancels the Lagrange polynomials. This
  implies that $(\xb,\thetab,\bm \ell)$ is in $\frak{Z} -
  \{(\textit{\textbf{x}}',\thetab',0,\hdots,0) \in
  \C^{n+\dt+m}~|~(\textit{\textbf{x}}',\thetab',0\hdots,0) \in
  \frak{Z}\}$, and thus in $\frak{Z}'$. This proves the inclusion
  $Z \subset \mu(\frak{Z}')$.

  Conversely, take an irreducible component $Y$ of $\frak Z'$. We prove 
  that $\mu(Y)$ is contained in $Z$.
  By construction, there exists an open dense subset $Y^o \subset Y$
  such that for any $(\xb,\thetab,\bm \ell)$ in $Y^o$, $\bm \ell$ is
  not identically zero. As a result, $(\xb,\thetab)$ is in $Z$, that
  is, $\mu(Y^o)$ is in $Z$. This implies that its Zariski closure
  $\overline{\mu(Y^o)}$ is in $Z$. Since $\mu(Y)$ is contained in
  $\overline{\mu(Y^o)}$, we have $\mu(Y) \subset Z$. Taking 
  the union over all $Y$, we get $\mu(\frak Z') \subset Z$, as claimed.
\end{proof}
%
\begin{corollary} 
  The degree of $Z$ is at most $d^{m+n}.$
\end{corollary}
\begin{proof}
  The algebraic set $\frak Z$ is defined by $m+n$ equations, all of
  them having degree at most $d$. It follows from B\'ezout's
  Theorem~\cite{H} that $\deg(\frak{Z}) \leq d^{m+n}$, and the same
  upper bound holds for $\deg(\frak{Z}')$. Applying the projection
  $\mu$ yields the result.
\end{proof}


\subsection{Genericity and Sard's lemma}
%
It will sometimes be useful for us to let the matrix $A$ represent new
indeterminates: let $\A$ be an $n \times n$ matrix of new
indeterminates $(\A_{i,j})_{1 \leq i , j \leq n}.$ Define $f^{\A} \in
\mathbb{Q}(\A_{i,j})[\textbf{X}]$ as $f(\A\textbf{X})$ and
$V^\A=V(f^\A).$ It follows from Proposition 4.2 that for a generic $A
\in \C^{n^2},$ $0$ is a regular value of $\Phi_{A}$.  The proof of
\cite[Theorem B.3]{NO}, which shows the existence of $\Delta \subset
\C^{n^2},$ applies \textit{Sard's lemma}, which shows that the
critical values of a polynomial mapping are contained in a
hypersurface. It follows from Sard's lemma that for the matrix of
indeterminants $\A,$ $0$ is a regular value of $\Phi_{\A}.$ Otherwise
it could not be that $0$ is a regular value of $\Phi_A,$ for a generic
$A\in \C^{n^2}.$ Therefore,
\[
\jac_{\xb}(\Phi_{\A}) = \jac_{\xb}\left(f^{\A}(x),\frac{\pa f^{\A}(x)}{\pa X_{i+1}},\hdots,\frac{\pa f^{\A}(x)}{\pa X_n}\right)
\]
has full rank for all $\xb \in V(f^{\A})$, and thus $f^{\A}$satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$. We will rely on this fact in Section 5. 
%
\section{Proof of $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$}
%
We assume our input polynomial $f$ satisfies \textbf{H} so that $f$ is squarefree with $V(f) \cap \mathbb{R}^n$ smooth. Thus, by Proposition 2.4,  $W(\pi_i,V(f))$ is defined by the vanishing of \[\fb := \left(f,\frac{\pa f}{\pa X_{i+1}},\hdots,\frac{\pa f}{\pa X_n}\right).\]
If the Jacobian of $\fb$ has full rank at all $x \in V(f) \cap \mathbb{R}^n,$ then it follows by the Jacobian criterion [4, Theorem 16.19] that $f$ satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$. 
%
\begin{theorem}
There exists a Zariski closed set $\Delta \subset \C^{n^2}$ of degree at most $D^n$ with the property that, if $A \in \C^{n^2} - \Delta$ then for each $i \in \{1,\hdots,n\},$ $f^A$ satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$.
\end{theorem}
%
\subsection{Sketch of the proof of Theorem 6.1}
%
We will let $\Phi$ be the mapping 
\[
(\xb,A) \mapsto \left(f^A(\xb), \frac{\partial f^A}{\partial X_{i+1}}(\xb),\hdots,\frac{\partial f^A}{\partial X_n}(\xb)\right),
\] 
so that 
\[
\Phi_A^{-1}(0)= W(\pi_i,V^A).
\]
Then we show that $0$ is a regular value of $\Phi$, so that, by Proposition 4.2, $\Delta \subset \C^{n^2}$ exists with the property that if $A \in \C^{n^2}-\Delta$ then $0$ is a regular value of $\Phi_A.$ It then follows that 
\[
\jac_{\xb}(\Phi_A) = \jac_{\xb}\left(f^A(x),\frac{\pa f^A(x)}{\pa X_{i+1}},\hdots,\frac{\pa f^A(x)}{\pa X_n}\right)
\]
has full rank for all $\xb \in V(f^A)$. Then, by the Jacobian criterion \cite[Theorem 16.19]{ECA}, $f^A$ satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$.
\subsection{Proof of Theorem 6.1}
Now, with $i \in \{1,\hdots,n\}$, let $\Phi$ be the mapping \[(\xb,A) \mapsto (f^A(\xb), \frac{\partial f^A}{\partial X_{i+1}}(\xb),\hdots,
\frac{\partial f^A}{\partial X_n}(\xb))\] so that 
\[
\Phi^{-1}(0)= W(\pi_i,V^A).
\]
%
\begin{proposition} 
0 is a regular value of $\Phi$.
\end{proposition}
%
\begin{proof}
Put
\[
G_0 = f(Ax), 
G_1 = \frac{\partial (f(Ax))}{\partial X_{i+1}},\hdots,G_{n-i} = \frac{\partial (f(Ax))}{\partial X_n},
\] 
and assume that $G_0(\xb,A)=G_1(\xb,A)=\hdots =G_{n-i}(\xb,A)=0.$ We can simplify by removing $Ax$ from the system because  
\[
(f(Ax),(\grad(f)\cdot 
\bbm 
a_{i+1,1} \\
\vdots \\
a_{i+1,n} 
\ebm)(Ax),\hdots, 
(\grad(f)\cdot 
\bbm 
a_{n,1} \\
\vdots \\
a_{n,n} 
\ebm)(Ax)
\] 
defines a radical ideal of dimension ? whose variety is smooth if and only if 
\[
(f,\grad(f)\cdot 
\bbm 
a_{i+1,1} \\
\vdots \\
a_{i+1,n} 
\ebm),\hdots, 
\grad(f)\cdot 
\bbm 
a_{n1} \\
\vdots \\
a_{nn} 
\ebm)
\]
defines a radical ideal of dimension ? whose variety is smooth. Now, let $g$ be the following:
%
\begin{align*}
    g: \C^n \times \C^{n^2} &\rightarrow \C^{n-i+1} \\
       (\xb,A) &\mapsto 
       \left(f(\xb),\grad(f(\xb))\cdot 
A_{i+1},\hdots, 
\grad(f(\xb))\cdot 
A_{n}
\right)
\end{align*}
%
I claim that for all $(\xb,A) \in g^{-1}(0),$ the Jacobian matrix of $g$ at $(\xb,A)$ has full rank $n-i+1$ (i.e. $g$ is transverse to $\{0\}).$ The Jacobian of 
%
\begin{align*}
       & \left(f,\grad(f)\cdot 
\bbm 
a_{i+1,1} \\
\vdots \\
a_{i+1,n} 
\ebm,\hdots, 
\grad(f)\cdot 
\bbm 
a_{n,1} \\
\vdots \\
a_{n,n} 
\ebm\right) \\
&= \left(f, \frac{\pa f}{\pa X_1} a_{i+1,1} + \hdots + \frac{\pa f}{\pa X_n}a_{i+1,n}, \hdots, \frac{\pa f}{\pa X_1} a_{n,1} + \hdots + \frac{\pa f}{\pa X_n}a_{n,n}\right) \\
&= (f,F_{1},\hdots,F_{n-i}),  
\end{align*} 
%
where 
\[
F_j = \frac{\pa f}{\pa X_1} a_{i+j,1} + \hdots + \frac{\pa f}{\pa X_n}a_{i+j,n}, 1 \leq j \leq n-i,\]
is
\[
\left[ 
\begin{array}{cccccc}
\frac{\pa f}{\pa X_1} \hdots \frac{\pa f}{\pa X_n}            &0\hdots 0&\hdots& 0 \hdots 0                                         & \hdots & 0\hdots 0 \\ 
\frac{\pa F_{1}}{\pa X_1}\hdots \frac{\pa F_{1}}{\pa X_n}     &0\hdots 0&\hdots& \frac{\pa f}{\pa X_1} \hdots \frac{\pa f}{\pa X_n} & \hdots & 0\hdots 0 \\
\ddots                                                        &0\hdots 0&\ddots&\ddots                                              & \ddots & \ddots \\
\frac{\pa F_{n-i}}{\pa X_1}\hdots \frac{\pa F_{n-i}}{\pa X_n} &0\hdots 0&\hdots&0 \hdots 0&  \hdots & \frac{\pa f}{\pa X_1} \hdots \frac{\pa f}{\pa X_n}  
\end{array}
\right]. 
\] 
Since $f$ is square-free, \[I(V(f)) = \langle f \rangle,\]  and thus for all $\xb \in V(f)$, 
\[
T_{\xb} V(f) = \textrm{Nullspace}(\grad_{\xb} f).
\]
Since $V(f)$ is smooth, $T_{\xb} V(f)$ has dimension $n-1$ and one partial vanishes. At least one partial of $f$ must be non-zero. Since  $\frac{\pa f}{\pa X_1} \hdots \frac{\pa f}{\pa X_n}$ appears in $n-i$ rows, the matrix has full rank $n-i$.
\end{proof}
%
Since $\deg \Phi \leq D,$ it follows by Theorem 4.2 that a hypersurface $\Delta \subset \C^{n^2}$ exists, of degree at most $D^n,$ with the property that, if $A \in \C^{n^2}-\Delta,$ then $0$ is a regular value of $\Phi_{A}$, which means that 
\[
\jac_\textit{\textbf{x}} \Phi_A 
= \jac_\xb \left(f^A,\frac{\pa f^A}{\pa X_{i+1}},\hdots,\frac{\pa f^A}{\pa X_n}\right)
\] 
has full rank for all $\xb \in V(f^A)$ ($\cap \R^n$?). Therefore, by the Jacobian criterion \cite[Theorem 16.19]{ECA}, $f^A$ satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2)$ and $\textbf{H}_i'(3)$, for each $i \in \{1,\hdots,n\}.$
%
%
%
%
\section{Proof of $\textbf{H}_i'(4),\textbf{H}_i'(5)$ and $\textbf{H}_i'(6)$}
%
\begin{theorem}
There exists a Zariski closed set $\Delta_2 \subset \C^{n^2}$ of degree at most $D^{\textrm{?}}$ with the property that, if $A \in \C^{n^2} - \Delta_2$ then for each $i \in \{1,\hdots,n\},$ $f^A$ satisfies $\textbf{H}_i'(4),\textbf{H}_i'(5)$ and $\textbf{H}_i'(6)$.
\end{theorem}
%
\subsection{Sketch of the proof of Theorem 7.1}
%
Let 
\[
Y_i = X_i^{A} = [b_i] \cdot \bbm X_1\\ \vdots \\ X_n \ebm, 
\]
where $b_i$ is the i-th row of $A^{-1}$. For $i \in \{1,\hdots,n\}$, we want to show that the Jacobian of the system of polynomials
\[
Y_1(\xb),\hdots,Y_{i-1}(\xb), f(\xb),  \frac{\pa f(A\xb)}{\pa X_{i+1}},\hdots,\frac{\pa f(A\xb)}{\pa X_n}
\]
has full rank, at all points $\xb \in \C^n$ with 
\[
X_1(\xb)=\hdots,X_{i-1}(\xb)=f(\xb)= \frac{\pa f(xb)}{\pa X_{i+1}}=\hdots = \frac{\pa f(\xb)}{\pa X_{n}}=0.
\]
Then we could use Theorem 5.1 to obtain a hypersurface with the desired properties. Let $\Phi$ be the mapping 
%
\begin{align*}
    \Phi: \C^n \times \C^{n^2} &\rightarrow \C^{n+1} \\
           (\xb,A) &\mapsto 
       (Y_1,\hdots,Y_i,f(\xb),\grad(f(\xb))\cdot A_{i+1},\hdots \\
       \hdots&~,\grad(f(\xb))\cdot A_{n})),
\end{align*}
%
We cannot directly define the appropriate polynomial mapping, as $Y_j(A\xb)$ is rational in $A^{-1}.$ To circumvent this issue, we can alternativly define a polynomial mapping $\Psi$ as  
%
\begin{align*}
    \Psi: \C^n \times \C^{n^2} \times \C &\rightarrow \C^{n+2} \\
           (\xb,A,T) &\mapsto 
       (\Yt_1,\hdots,\Yt_i,f(\xb),\grad(f(\xb))\cdot A_{i+1},\hdots \\
\hdots,\grad(f(\xb))\cdot A_{n}),&~T\cdot \det (A) - 1),
\end{align*}
%
where $\Yt_j=TY_j$ with denominators cleared. Now, look at the points in $\Psi^{-1}(0).$ Here, $\det A \not = 0$ and therefore invertible, and therefore at all points in $\Psi^{-1}(0)$ the Jacobian matrix has full rank? 
%
\begin{proposition}
For all $(\xb,A) \in \Psi^{-1}(0),$ the Jacobian matrix of $\Psi$ at $(\xb,A)$ has full rank (i.e. $\Psi$ is transverse to $\{0\}).$
\end{proposition}
%
\begin{proof}
\end{proof}
%
Thus, by Theorem 5.1, there exists a hypersurface $\Delta_2 \subset \C^{n^2}$, of degree at most $D^{n+1}$ with the property that if $A \in \C^{n^2}-\Delta_2$ then $\jac_{\xb}\Psi_A$ has full rank. $\hdots$ It then follows that for all $A \in \C^{n^2}-\Delta_2, \jac_{\xb}\Phi_A$ also has full rank. Therefore, by the Jacobian criterion, $f^A$ satisfies  $\textbf{H}_i'(4),\textbf{H}_i'(5)$ and $\textbf{H}_i'(6)$. 
%
%
%
%
\section{Proof of $\textbf{H}_i'(7)$}
%
%% <<<<<<< HEAD
%% Let $\A$ be an $n \times n$ matrix of new indeterminates $(\A_{i,j})_{1 \leq i , j \leq n}.$ Define $f^{\A} \in \mathbb{Q}(\A)[\textbf{X}]$ as $f(\A\textbf{X})$ and $V^\A=V(f^\A).$ Recall from Section 4.1.4 that $f^\A$ satisfies $\textbf{H}_i'(1),\textbf{H}_i'(2),$ and $\textbf{H}_i'(3).$ Throughout this section, for simplicity let $\I^\A$ denote $\I(\pi_i,V^\A)$ and let $W^\A$ denote $W(\pi_i,V^\A).$ To increase readability and simplify notation, we often do not specify $i$, as it is fixed.   
%% \subsection{Sketch of the proof}
%% Let $f \in \mathbb{Q}[X_1,\hdots,X_n]$ be squarefree with total degree $D$ and $V(f)$ smooth. For $i \in \{1,\hdots,n\}$, recall $\textbf{H}_i'(4):$ \textit{$W(\pi_i,V)$ is in Noether position for $\pi_{i-1}$}, which is equivalent to having the extension  
%% =======
Let $\A$ be an $n \times n$ matrix of new indeterminates $(\A_{i,j})_{1 \leq i , j \leq n}.$ Define $f^{\A} \in \mathbb{Q}(\A)[\textbf{X}]$ as $f(\A\textbf{X})$ and $V^\A=V(f^\A).$ Recall from Section 4.1.4 that $f^\A$ satisfies $\textbf{H}_i^{'}(1),\textbf{H}_i^{'}(2),$ and $\textbf{H}_i^{'}(3).$ Throughout this section, to simplify notation, let $\I^\A$ denote $\I(\pi_i,V^\A)$ and let $W^\A$ denote $W(\pi_i,V^\A).$ Furthermore, throughout this section, consider that $i \in \{1,\hdots,n\}$ is fixed. We will avoid writing $i$ where the context is clear. 
%
\subsection{Sketch of the proof}
%
Let $f \in \mathbb{Q}[X_1,\hdots,X_n]$ have total degree $D$. Assume $f$ satisfies \textbf{H}, so that $f$ is squarefree with $V(f)$ smooth. Recall $\textbf{H}_i^{'}(7):$ \textit{$W(\pi_i,V)$ is in Noether position for $\pi_{i-1}$}, which is equivalent to having the extension  
%% >>>>>>> f9eb2445ca6e153d1e49c3d2767097d331dbcbee
\[
\C[\textbf{X}_{\leq i-1}]\rightarrow\C[\textbf{X}]/\frak{I}(\pi_i,V)
\]
injective and  integral.
%
\begin{theorem}
There exists a hypersurface $\Delta_3 \subset \C^{n^2}$ of degree at most $D^{?}$ with the property that, if $A \in \C^{n^2} - \Delta_3$ then, for each $i \in\{1,\hdots,n\}, f^A$ satisfies $\textbf{H}_i'(7)$.
\end{theorem}
%
Section 8 is devoted to proving Theorem 8.1. It has already been shown in \cite{EMP} that $f^A$ satisfies $\textbf{H}_i^{'}$ for a generic change of variables. The new contribution is in upper bounding the degree of $\Delta_3.$
%
\begin{proposition} 
The ring extension \[\mathbb{Q}(\frak{A})[\textbf{X}_{\leq i-1}]\rightarrow\mathbb{Q}(\frak{A})[\textbf{X}]/\I^{\A}\] is integral.
\end{proposition}
%
\begin{proof}
Let $(\frak{P}_l)_{l \leq L}$ be the prime components of the radical ideal $\I^\A$. By \cite[Proposition 1]{EMP}, 
\[
\mathbb{Q}(\frak{A})[\Xb_{\leq i-1}]\rightarrow\mathbb{Q}(\frak{A})[\Xb]/\fp_l^{\A}
\] 
is integral. Therefore polynomials $p_{l,j}\in\mathbb{Q}(\frak{A})[\Xb_{\leq i-1}][T]$ exist, monic in $T$, with $p_{l,j}(X_j)\in \frak{P}_l$ for each $j\in \{i,\hdots,n\}.$ Thence, 
%
\begin{align*}
&P_{j}(X_j) := \prod_l p_{l,j}(X_j)\in\I^\A, 
\end{align*}
%
for each $j \in \{i,\hdots,n\},$ and therefore 
\[
\mathbb{Q}(\frak{A})[\Xb_{\leq i-1}]\rightarrow\mathbb{Q}(\frak{A})[\Xb]/\I^{\A}
\] 
is integral.
\end{proof}
%
Let $P_{j} \in \mathbb{Q}(\frak{A})[\Xb_{\leq i-1}][T]$ be as in the proof of Proposition 8.2. Since $P_{j}(X_j) \in\I^{\A}= \langle f^\A,\frac{\partial f^\A}{\partial X_{i+1}},\hdots,\frac{\partial f^\A}{\partial X_n} \rangle,$
 we can write
\[
P_{j}(X_j) = a_j f^{\A} + \sum_{l=1}^{n-i}b_{j,l} \frac{\partial f^\A}{\partial X_{i+l}}, ~a_j,b_{j,l} \in \mathbb{Q}(\A)[\textbf{X}].
\]
For each $P_j,$ there exists a Zariski open set $\Gamma_j \subset \C^{n^2}$ such that if $A \in \Gamma_j$,
then $A$ cancels none of the denominators of $a_{j}$ or $b_{j,l}$. Define $h_j \in \Q[\A]$ to be the product of the denominators of the coefficients of $a_j$ and $b_{j,l}$. Hence, if $A \in \Q^{n^2}-V(h_j)$ then $A$ cancels none of the denominators of $a_{j}$ or $b_{j,l},$ which are providing the integral dependence relation. Now we define 
\[
\Xi_i := V(h_i,\hdots,h_n), 
\]
and we obtain a bound on the degree of $\Xi_i$ by applying Bezout's theorem. Hence, if $A\in \Q^{n^2}-\Xi_i$ then
\[
P_j(X_j) \in \I^A,  
\]
for each $j \in \{i,\hdots,n\},$ and therefore the extension 
\[
\mathbb{C}[{\Xb}_{\leq i-1}]\rightarrow\mathbb{C}[\Xb]/\I(\pi_i,V^{A})
\]
is integral. We can obtain bounds for $h_j$ by applying an effective Nullstellensatz theorem. However, the theorem requires $P_{j}$ to be a polynomial. We can obtain a polynomial from $P_{j}$ by clearing denominators. We can multiply $P_{j}$ by the least common multiple of its denominators, which we will denote by $d_j \in \Q[\A_{i,j}]$. Put 
\[
\overline{P_{j}} := d_jP_{j}\in \Q[\A][\Xb],
\]
and note that $\pjb(X_j) \in \I^{\A}$ with 
\[
\pjb(X_j) = \ajb f^{\A} + \sum_{l=1}^{n-i}\bjb \frac{\partial f^\A}{\partial X_{i+l}}, ~\ajb,\bjb \in \mathbb{Q}[\A][\textbf{X}].
\]
%
\begin{proposition} 
$\deg \pjb\leq (D+1)^{n-i+1}.$ 
\end{proposition} 
%
\begin{proof}
\textbf{Eric and Mark}: I am unsure of how to do this part correctly, so I will assume 
\[
\deg \pjb\leq \Dt_j.
\]
Let $\Is \subset \Q[\A,\Xb]$ be the extension of $\I^{\A}$ in  $\Q[\A,\Xb],$ and consider the finite field extension
%
\begin{align*}
    \Q(\A,\Xb_{i-1}) &\rightarrow \Q(\A,\Xb_{i-1})[X_i,\hdots,X_n]/\Is.
\end{align*}
%
The minimal polynomial of the linear mapping defined by multiplication by $X_j$ in $\Q(\A,\Xb_{i-1})$ is \textbf{almost}(?) equal to $\pjb$ (the leading coefficient of $\pjb$ is $d_j$). It therefore follows by \cite[Proposition 1]{CGR} that
%
\begin{align*}
&\deg \pjb \leq (D+1)^{n-i+1}.&(2D)^{n-i+1}\textrm{?} 
\end{align*}
%
\end{proof}
%
Note that 
\[
\deg d_j \leq \deg \pjb \leq \Dt_j.
\]
%
\subsection{Applying the effective Nullstellensatz}
%
To apply the effective Nullstellensatz theorem, we first need to determine degree bounds, separately in $\Xb$ and $\A,$ of the polynomials in the membership relationship. We have
\[
\deg_{\Xb}\left\{ 
f^\A,\frac{\partial f^\A}{\partial X_{i+1}},\hdots,\frac{\partial f^\A}{\partial X_n}
\right\}\leq D,
\]
\[
\deg_{\A}  
\left\{ 
f^\A,\frac{\partial f^\A}{\partial X_{i+1}},\hdots,\frac{\partial f^\A}{\partial X_n}
\right\} \leq D,
\]
\[
\deg_{\Xb,T}(1-T\pjb) \leq \Dt_j +1 
\]
and
\[
\deg_{\A}(1-T\pjb) \leq \Dt_j.
\]
For each $j \in \{i,\hdots,n\},$ by \cite[Theorem 0.5]{EN}, there exists $\alpha_j \in \mathbb{Q}[\A]\setminus\{0\}$ with 
%
\begin{align*}
\alpha_j = \sum_{l=1}^{n-i+1} A_{j,l}(\A,\Xb,T)g_l + B_j(\A,\Xb,T)(1-\pjb T), \\ g_l \in 
\left\{ 
f^\A,\frac{\partial f^\A}{\partial X_{i+1}},\hdots,\frac{\partial f^\A}{\partial X_n}
\right\},~ A_{j,l},B_j \in \mathbb{Q}[\A][\Xb][T],
\end{align*}
%
and with the degree of $\alpha_j$ upper bounded by
%
\begin{align*}
    &\left(\prod_{k=1}^{n-i+1} D\right)\Dt_j 
    + (n-i+1)\left(\Dt_j+1\right)\left(\prod_{k=1}^{n-i}D \right)D\\
    = &\left(D^{n-i+1}\right)\Dt_j+
    (n-i+1)\left(\Dt_j+1\right)\left(D^{n-i+1} \right)\\
    &\leq D^{n}\Dt_j + n\left(\Dt_j+1\right)D^{n}\\
    &=D^n\left(\Dt_j + n\left(\Dt_j+1\right) \right).
\end{align*}
%
Now we will show that $\alpha_j$ is the only remaining denominator whose degree we need to bound. Substitute $T \leftarrow 1/\pjb$ so that 
\[
\alpha_j = \sum_{l=1}^{n-i+1} A_{j,l}(\A,\Xb,1/\pjb)g_l + 0
\]
and
%
\begin{align*}
A_{j,l}(\A,\Xb,1/\pjb) 
&= \sum_{i=1}^{n_l} A_{j,l,i}(\A,\Xb,1/\pjb)\\
&= \sum_{i=1}^{n_l} \left(\frac{1}{P_j^{k_i}}\right)\At_{j,l,i}(\A,\Xb), ~k_i \in \mathbb{Z}.
\end{align*}
%
Let $K := \max\{k_l\}$ so that 
%
\begin{align*}
    \pjb^K \alpha_j &= \pjb^K\left(\sum_{l=1}^{n-i+1} A_{j,l}(\A,\Xb,1/\pjb)g_l\right)\\
    &= \sum_{l=1}^{n-i+1}\left( \sum_{i=1}^{n_l}\left(\pjb^{K-k_{i}}\right)\At_{j,l,i}(\A,\Xb) \right)g_l \in \Q[\A][\Xb].
\end{align*}
%
which shows that $\alpha_j$ is the only remaining denominator whose degree we need to bound other than $d_j$. Note as well that
\[
\pjb^K \in \I^{\A}.
\]
Therefore 
%
\begin{align*}
\deg h_j &\leq \left(\deg \alpha_j\right)\left(\deg d_j\right)\\
    &\leq \left(D^n\left(\Dt_j + n\left(\Dt_j+1\right) \right)\right)\Dt_j\\
    &=D^n\Dt_j\left(\Dt_j + n\left(\Dt_j+1\right) \right).
\end{align*}
%
\subsection{Proof of Theorem 8.1}
%
We can apply B\'ezout and obtain
%
\begin{align*}
    \deg \Xi_i = \deg V(h_i,\hdots,h_n)
    &\leq \prod_{j=i}^n \deg h_j\\
    &\leq  \prod_{j=i}^n \left( D^n\Dt_j\left(\Dt_j + n\left(\Dt_j+1\right) \right) \right) \\
    &=  \left( D^n\Dt_j\left(\Dt_j + n\left(\Dt_j+1\right) \right) \right)^{n-i+1}\\
    &\leq  \left( D^n\Dt_j\left(\Dt_j + n\left(\Dt_j+1\right) \right) \right)^{n}.
\end{align*}
%
And therefore, by another application of B\'ezout, 
%
\begin{align*}
    \deg& \Delta_3 \leq \prod_{i=1}^n \deg \Xi_i\\
    &\leq \left( D^n\Dt_j\left(\Dt_j + n\left(\Dt_j+1\right) \right) \right)^{n^2},
    &(=D^{O(n^3 \log n)}\textrm{?})
\end{align*}
%
where if $A \in \C^{n^2} - \Delta_3$ then, for each $i \in \{1,\hdots,n\},$ the extension 
\[
\C[\textbf{X}_{\leq i-1}]\rightarrow\C[\textbf{X}]/\frak{I}(\pi_i,V^A)
\]
%% <<<<<<< HEAD
%% is integral, and thus $V(\I^A)=W^\A$ is in Noether position for $\pi_{i-1}.$ Therefore, for each $i \in\{1,\hdots,n\}, f^A$ satisfies $\textbf{H}_i'(4)$.
%% =======
is integral.
%% >>>>>>> f9eb2445ca6e153d1e49c3d2767097d331dbcbee
%
%
%
%
\section{Proof of Theorem 3.1}
%
Assume that $f\in \Q[X_1,\hdots,X_n]$ satisfies $\textbf{H}.$
%
%
%
%
\section{Proof of Theorem 1.1}
%
%




%%
%% The next two lines define the bibliography style to be used, and
%% the bibliography file.
\bibliographystyle{ACM-Reference-Format}
\bibliography{sample-base}
%%
\end{document}
\endinput
%%
%% End of file `sample-xelatex.tex'.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
